<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="theme-color" content="#14141a">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>SlipUp</title>
  <meta name="description" content="Note daily slip-ups, see patterns, and turn them into deliberate learning. Your data stays on your device.">
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"WebApplication","name":"SlipUp","description":"Note daily slip-ups, see patterns, and turn them into deliberate learning. Reduce useless mistakes and keep the ones that grow you.","url":"https://www.slipup.io/","applicationCategory":"LifestyleApplication"}
  </script>
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="styles.css?v=114">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,600;0,9..40,700;1,9..40,400&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
</head>
<body>
  <a href="#personal-view" class="skip-link">Skip to content</a>
  <header class="top-bar" role="navigation" aria-label="Primary">
    <div class="top-bar-left">
      <button type="button" id="btn-settings" class="top-bar-settings" title="Settings" aria-label="Settings" aria-expanded="false" aria-haspopup="true">üîî</button>
      <a href="index.html" id="top-bar-brand" class="top-bar-brand" title="Not a judge. A mirror. ‚Äî See what again. Keep to learn. Feel better.">SlipUp</a>
      <button type="button" id="btn-theme-top" class="top-bar-theme" title="How does this feel?" aria-label="Mood">Focused</button>
    </div>
    <div class="top-bar-settings-dropdown" id="settings-dropdown" aria-hidden="true">
      <label class="setting-row">
        <input type="checkbox" id="reminder-checkbox">
        <span>Notify me for evening check-in (8pm)</span>
      </label>
    </div>
    <div class="top-bar-actions">
      <a href="index.html#phase-tabs" id="top-bar-slipups" class="top-bar-slipups" title="See everyone's entries ‚Äî opens world chart" aria-label="World: 0" role="button">üåç 0</a>
      <a href="#main" class="top-bar-home" id="top-bar-add" aria-label="Add slip-up">+ Add</a>
    </div>
  </header>
  <div id="add-to-home-banner" class="add-to-home-banner hidden" role="region" aria-label="Add to home screen">
    <span class="add-to-home-text">Add SlipUp to your home screen from your browser menu for quick access.</span>
    <button type="button" id="add-to-home-dismiss" class="add-to-home-dismiss" aria-label="Dismiss">Got it</button>
  </div>
  <div class="app" role="main" aria-label="SlipUp">
    <header class="app-hero" id="main-hero">
      <div class="app-hero-inner">
        <h1 class="app-hero-title">SlipUp</h1>
        <p class="app-hero-tagline">Not a judge. <span class="app-hero-accent">A mirror.</span></p>
        <p class="app-hero-sub"><span class="app-hero-sub--see">See your patterns.</span> <span class="app-hero-sub--choose">Keep what supports you.</span> <span class="app-hero-sub--feel">Gently release the rest.</span></p>
        <a href="landing.html" class="app-hero-about">Why SlipUp?</a>
      </div>
      <div class="app-hero-glow" aria-hidden="true"></div>
      <div class="app-hero-glow-bottom" aria-hidden="true"></div>
    </header>

    <div id="personal-view" class="app-view" tabindex="-1">
    <section class="micro-goal-section micro-goal-card" id="micro-goal-section" aria-labelledby="micro-goal-heading" role="region">
      <p class="micro-goal-pause" aria-hidden="true">Before you note ‚Äî one intention</p>
      <h2 class="micro-goal-heading" id="micro-goal-heading">What matters to you today?</h2>
      <div class="micro-goal-input-wrap">
        <input type="text" id="micro-goal-input" class="micro-goal-input" placeholder="e.g. Less heat ¬∑ One shift ¬∑ Breathe first" maxlength="13" aria-describedby="micro-goal-hint micro-goal-char-count" autocomplete="off" autofocus>
        <span class="micro-goal-char-count" id="micro-goal-char-count" aria-live="polite"></span>
      </div>
      <p class="micro-goal-hint" id="micro-goal-hint">Just for you ‚Äî no one else sees this</p>
      <div class="micro-goal-result" id="micro-goal-result" aria-live="polite"></div>
      <div class="micro-goal-actions">
        <button type="button" id="btn-share-intention" class="btn-share-intention" title="Add your intention to the shared chart">Share intention</button>
      </div>
    </section>
    <div class="phase-tabs" id="phase-tabs" role="tablist" aria-label="Personal, Social, or Inside (groups)">
      <button type="button" class="phase-tab active" role="tab" aria-selected="true" data-phase="personal">Personal</button>
      <button type="button" class="phase-tab" role="tab" aria-selected="false" data-phase="social">Social</button>
      <a href="inside.html" class="phase-tab phase-tab--link" title="SlipUp Inside ‚Äî for group check-ins">Inside</a>
    </div>
    <section class="add-section" id="main">
      <div class="add-card">
        <label for="mistake-note">What slipped?</label>
        <div class="type-row">
          <div class="type-options">
            <label class="type-pill">
              <input type="radio" name="mistake-type" value="avoidable">
              <span class="pill-main">Avoidable</span>
              <span class="pill-sub">Careless / repetitive</span>
            </label>
            <label class="type-pill">
              <input type="radio" name="mistake-type" value="fertile">
              <span class="pill-main">Fertile</span>
              <span class="pill-sub">Experiment / growth</span>
            </label>
            <label class="type-pill">
              <input type="radio" name="mistake-type" value="observed" checked>
              <span class="pill-main">Observed</span>
              <span class="pill-sub">In others: avoid or understand</span>
            </label>
          </div>
        </div>
        <div class="mode-row mode-row--pills" role="group" aria-label="How does this feel?">
          <button type="button" class="mood-btn mood-btn--calm" data-theme="calm" title="Calm">Calm</button>
          <button type="button" class="mood-btn mood-btn--focus active" data-theme="focus" title="Focused">Focused</button>
          <button type="button" class="mood-btn mood-btn--stressed" data-theme="stressed" title="Overwhelmed">Overwhelmed</button>
          <button type="button" class="mood-btn mood-btn--curious" data-theme="curious" title="Curious">Curious</button>
          <button type="button" class="mood-btn mood-btn--tired" data-theme="tired" title="Drained">Drained</button>
        </div>
        <div class="add-card-input-wrap">
          <input type="text" id="mistake-note" placeholder="e.g. Forgot to save, spoke harshly‚Ä¶" maxlength="19">
          <span class="add-card-char-count" id="mistake-note-char-count" aria-live="polite">0/19</span>
        </div>

        <p class="type-hint" id="type-hint">Notice the trigger. How can I reduce repeats?</p>
        <p class="entry-insight hidden" id="entry-insight" aria-live="polite"></p>
        <p class="first-nudge hidden" id="first-nudge" aria-live="polite">Not a judge. A mirror.</p>

        <div class="bias-check-row hidden" id="bias-check-row">
          <button type="button" id="btn-bias-check" class="btn-bias-check">Bias Check</button>
        </div>

        <button type="button" id="add-mistake" class="btn-add" disabled>+ Add mistake</button>
        <p class="add-sync-status hidden" id="add-sync-status" aria-live="polite"></p>
        <div class="quick-add-row">
          <button type="button" id="btn-cant-tell" class="btn-quick">I can't tell</button>
        </div>
        <p class="limit-message hidden" id="limit-message">Free version: 10 entries. Unlock full version for $5.</p>
        <p class="first-time-nudge" id="first-time-nudge">One line is enough ‚Äî or tap "I can't tell."</p>
      </div>
    </section>

    <section class="stats-section" id="stats-section" aria-label="Your stats for the selected period">
      <div class="stats">
        <div class="stat-card secondary stat-card--observed">
          <span class="stat-value" id="stat-count">0</span>
          <span class="stat-label" id="stat-count-label">slip-ups today</span>
          <span class="stat-foot" id="stat-count-foot" aria-live="polite"></span>
        </div>
        <div class="stat-card secondary stat-card--observed">
          <span class="stat-value" id="stat-avg">‚Äî</span>
          <span class="stat-label">per day</span>
          <span class="stat-sublabel">Busy vs calm stretches</span>
          <span class="stat-foot" id="stat-avg-foot" aria-live="polite"></span>
        </div>
        <div class="stat-card stat-exploration">
          <span class="stat-value" id="stat-exploration">‚Äî</span>
          <span class="stat-label">Exploration<span class="stat-expl-tip" id="stat-exploration-tip" aria-label="What is exploration?">?</span></span>
          <span class="stat-sublabel" id="stat-exploration-hint">fertile √∑ (avoidable + fertile)</span>
          <span class="stat-so-what" id="stat-exploration-so-what"></span>
        </div>
      </div>
      <div class="stats-period-summary">
        <div class="stats-period-tabs" role="tablist" aria-label="Switch period">
          <button type="button" class="tab tab--mini" role="tab" aria-selected="false" data-period="month">This month</button>
          <button type="button" class="tab tab--mini" role="tab" aria-selected="false" data-period="week">This week</button>
          <button type="button" class="tab tab--mini active" role="tab" aria-selected="true" data-period="day">Today</button>
        </div>
        <div class="stats-insight-block insight-block insight-block--featured">
          <span class="insight-label" id="stats-insight-label">Today</span>
          <p class="stats-insight insight-text" id="stats-insight" aria-label="Your period summary"></p>
          <div class="stats-insight-chart" id="stats-insight-chart" aria-hidden="true"></div>
          <p class="streak-note" id="streak-note"></p>
        </div>
      </div>
    </section>

    <section class="insights-section" id="insights-section">
      <div class="insights-header">
        <h2>What your Slip-ups say</h2>
        <p class="insights-intro">Patterns from your entries ‚Äî use them to spot repeats and celebrate fertile risks.</p>
      </div>
      <div class="insight-block insight-block--today">
        <span class="insight-label">Today vs your average</span>
        <div class="insight-chart" id="day-vs-average-chart"></div>
        <p class="insight-text insight-chart-summary" id="day-vs-average"></p>
      </div>
      <div class="insight-block insight-block--time">
        <span class="insight-label">When you added</span>
        <div class="insight-chart" id="time-of-day-chart"></div>
        <p class="insight-text insight-chart-summary" id="time-of-day"></p>
      </div>
      <div class="insight-block insight-block--patterns">
        <span class="insight-label">Repeating notes</span>
        <div class="insight-chart" id="top-patterns-chart"></div>
      </div>
      <div class="insight-block insight-block--mood insight-patterns">
        <span class="insight-label">Mood when you added</span>
        <div class="insight-chart" id="more-patterns-chart"></div>
      </div>
      <div class="insight-block insight-block-bias-check" id="bias-check-insight-block">
        <div class="bias-check-insight-header">
          <span class="insight-label">Slip-ups observed &amp; Bias Check</span>
        </div>
        <p class="bias-check-period-breakdown" id="bias-check-period-breakdown" aria-label="Observed by period"></p>
        <div class="bias-check-insight-content" id="bias-check-insight"></div>
      </div>
    </section>

    <section class="premium-section" id="premium-section">
      <h2>Unlock your full mistake intelligence</h2>
      <p class="section-hint">Turn mistakes into a personal learning system. See patterns, keep history, export and reflect without limits.</p>
      <div class="premium-cards" id="upgrade-cards">
        <div class="premium-card premium-card-upgrade" id="upgrade-card">
          <h3>Full version ‚Äî $5 one-time</h3>
          <p>Unlimited entries, full history, advanced export. One purchase, no subscription.</p>
          <ul class="why-upgrade-list">
            <li>Unlimited entries ‚Äî no 10-entry cap</li>
            <li>Full history &amp; export (CSV + backup)</li>
            <li>Support development of SlipUp</li>
          </ul>
          <a href="#" id="btn-buy" class="btn-buy" target="_blank" rel="noopener">Purchase for $5</a>
          <p class="refund-note">14-day refund if it's not for you.</p>
          <p class="legal-purchase-note">By purchasing you agree to our <a href="terms.html">Terms</a> and <a href="refund.html">Refund Policy</a>.</p>
          <div id="paypal-button-container" class="paypal-button-wrap hidden"></div>
          <p class="unlock-after-pay">After you complete payment, click below to unlock.</p>
          <button type="button" id="btn-unlock-after-pay" class="btn-unlock-after-pay">I've paid ‚Äî unlock full version</button>
        </div>
      </div>
      <div class="premium-cards hidden" id="unlocked-badge">
        <p class="unlocked-text">Full version active. Unlimited entries.</p>
        <a href="#" id="btn-buy-unlocked" class="btn-buy hidden" target="_blank" rel="noopener">Purchase for $5</a>
      </div>
      <p class="roadmap-note">Teams &amp; reports coming later. <a href="landing.html">See roadmap</a></p>
    </section>

    <section class="history">
      <h2>Recent entries</h2>
      <p class="section-hint">Your entries (saved on this device).</p>
      <div class="history-period-tabs" role="tablist" aria-label="Time period">
        <button type="button" class="tab tab--mini active" role="tab" aria-selected="true" data-period="day">Day</button>
        <button type="button" class="tab tab--mini" role="tab" aria-selected="false" data-period="week">Week</button>
        <button type="button" class="tab tab--mini" role="tab" aria-selected="false" data-period="month">Month</button>
      </div>
      <div class="history-controls">
        <div class="history-filters" id="history-filters">
          <button type="button" class="history-filter active" data-type="all">All</button>
          <button type="button" class="history-filter" data-type="avoidable">Avoidable</button>
          <button type="button" class="history-filter" data-type="fertile">Fertile</button>
          <button type="button" class="history-filter" data-type="observed">Observed</button>
        </div>
        <button type="button" id="btn-export-csv" class="btn-export">Export CSV</button>
      </div>
      <ul class="entry-list" id="entry-list"></ul>
      <button type="button" class="empty-state empty-state-add" id="empty-state" aria-label="Add a slip-up">Quiet.</button>
    </section>

    <section class="progress-section" id="progress-section">
      <h2>This week vs last week</h2>
      <p class="section-hint">Fewer repeats, more experiments ‚Äî that's the trend.</p>
      <div class="progress-cards" id="progress-cards"></div>
      <p class="progress-empty" id="progress-empty">Two weeks make a comparison.</p>
    </section>

    <section class="trends-section" id="trends-section">
      <h2>Your trends</h2>
      <p class="section-hint">Avoidable ‚Üì ¬∑ Fertile ‚Üî or ‚Üë</p>
      <div class="trends-chart" id="trends-chart"></div>
      <p class="trends-empty" id="trends-empty">A few days sketch a curve.</p>
      <p class="trends-highlight" id="trends-highlight"></p>
    </section>

    <section class="chart-section" id="stats-table-section">
      <h2 class="chart-section-title">Your last 2 weeks</h2>
      <p class="chart-section-intro">See how avoidable, fertile, and observed stack up day by day.</p>
      <div class="line-chart-wrap" id="line-chart-wrap">
        <div class="line-chart-legend" id="line-chart-legend"></div>
        <svg class="line-chart-svg" id="line-chart-svg" viewBox="0 0 400 180" preserveAspectRatio="xMidYMid meet" aria-hidden="true"></svg>
      </div>
      <p class="line-chart-empty" id="line-chart-empty">Add a few entries over the next days to see your chart here.</p>
    </section>

    <section class="reflection-section" id="reflection-section">
      <div class="reflection-card-wrap">
        <h2 class="reflection-title">Today's reflection</h2>
        <p class="reflection-hint">A mirror, not a judge. One line each: what to reduce, what to keep.</p>
        <p class="reflection-context-prompt" id="reflection-context-prompt"></p>
        <div class="auto-reflection" id="auto-reflection"></div>
        <p class="reflection-note hidden" id="latest-entry-insight"></p>
        <div class="reflection-grid">
          <div class="reflection-card reflection-card--avoidable">
            <h3>Reduce</h3>
            <textarea id="reflection-avoidable" rows="2" placeholder="Careless or on autopilot? One pattern to tweak..."></textarea>
            <p class="char-counter" id="reflection-avoidable-counter"></p>
          </div>
          <div class="reflection-card reflection-card--fertile">
            <h3>Keep</h3>
            <textarea id="reflection-fertile" rows="2" placeholder="Stretched, experimented, grew? What to repeat..."></textarea>
            <p class="char-counter" id="reflection-fertile-counter"></p>
          </div>
        </div>
        <div class="reflection-intention-match hidden" id="reflection-intention-match" aria-label="Intention match">
          <p class="reflection-intention-match-prompt">Did your intention match today?</p>
          <div class="reflection-intention-match-options" role="group">
            <button type="button" class="reflection-intention-btn" data-value="yes">Yes</button>
            <button type="button" class="reflection-intention-btn" data-value="partially">Partially</button>
            <button type="button" class="reflection-intention-btn" data-value="no">Not really</button>
          </div>
        </div>
        <p class="reflection-note" id="reflection-note"></p>
        <div class="yesterday-reflection" id="yesterday-reflection"></div>
        <details class="reflection-history" id="reflection-history">
          <summary class="reflection-history-summary">Recent reflections</summary>
          <div class="reflection-history-content">
            <p class="reflection-history-hint">Saved on this device.</p>
            <div class="reflection-history-table-wrap">
              <table class="reflection-history-table" aria-label="Recent reflections">
                <thead>
                  <tr>
                    <th scope="col">Day</th>
                    <th scope="col">Avoidable</th>
                    <th scope="col">Fertile</th>
                  </tr>
                </thead>
                <tbody id="reflection-history-body"></tbody>
              </table>
            </div>
            <button type="button" id="btn-export-reflections" class="btn-export-reflections">Export reflections (CSV)</button>
          </div>
        </details>
      </div>
      <div class="reflection-share-wrap hidden" id="reflection-share-wrap" aria-labelledby="reflection-share-heading">
        <p class="reflection-share-echo" id="reflection-share-echo">Not alone in this</p>
        <p class="reflection-share-prompt" id="reflection-share-heading">Add your numbers to the world chart?</p>
        <p class="reflection-share-hint">Pick month, week, or today ‚Äî then share. Anonymous. No account.</p>
        <a href="#social" id="btn-share-after-reflection" class="btn-share-after-reflection" title="Share your stats ‚Äî pick period, then share" aria-label="Share my result" role="button">Share my result</a>
        <button type="button" id="btn-dismiss-share-after-reflection" class="btn-reflection-share-dismiss" aria-label="Dismiss share prompt">Not now</button>
      </div>
    </section>
    </div>

    <div id="social-view" class="app-view hidden">
    <p id="offline-note" class="offline-note hidden" aria-live="polite">Offline. Sharing will return when you're online.</p>
    <div class="social-tab-panel" id="social-tab-share" aria-hidden="false">
    <div class="phase-tabs" id="phase-tabs-social" role="tablist" aria-label="Personal or Social">
      <button type="button" class="phase-tab" role="tab" aria-selected="false" data-phase="personal">Personal</button>
      <button type="button" class="phase-tab active" role="tab" aria-selected="true" data-phase="social">Social</button>
    </div>
    <div class="social-share-unified social-share-card" id="social-block">
      <h2 class="social-share-title">Not alone in this</h2>
      <p class="social-share-intro">Share your stats anonymously. No name, no account. Your numbers join the world chart.</p>

      <section class="social-share-stats-wrap stats-section--share" aria-label="Your stats for the selected period">
        <div class="stats">
          <div class="stat-card stat-card--observed">
            <span class="stat-value" id="stat-count-social">0</span>
            <span class="stat-foot" id="stat-label-social" aria-live="polite">slip-ups today</span>
          </div>
          <div class="stat-card secondary stat-card--observed">
            <span class="stat-value" id="stat-avg-social">‚Äî</span>
            <span class="stat-label">per day</span>
            <span class="stat-sublabel">Busy vs calm stretches</span>
          </div>
          <div class="stat-card stat-exploration">
            <span class="stat-value" id="stat-exploration-social">‚Äî</span>
            <span class="stat-label">Exploration</span>
            <span class="stat-sublabel" id="stat-exploration-hint-social">fertile √∑ (avoidable + fertile)</span>
            <span class="stat-so-what" id="stat-exploration-so-what-social"></span>
          </div>
        </div>
        <div class="stats-period-summary">
          <div class="stats-period-tabs" role="tablist" aria-label="Switch period">
            <button type="button" class="tab tab--mini" role="tab" aria-selected="false" data-period="month">This month</button>
            <button type="button" class="tab tab--mini" role="tab" aria-selected="false" data-period="week">This week</button>
            <button type="button" class="tab tab--mini active" role="tab" aria-selected="true" data-period="day">Today</button>
          </div>
          <div class="stats-insight-block insight-block insight-block--featured">
            <span class="insight-label" id="stats-insight-label-social">Today</span>
            <p class="stats-insight insight-text" id="stats-insight-social" aria-label="Your period summary"></p>
          </div>
        </div>
      </section>

      <div class="social-to-share-card" id="social-to-share" role="status">
        <span class="social-to-share-count" id="social-to-share-count">0</span>
        <span class="social-to-share-label" id="social-to-share-label">ready to share</span>
      </div>

      <section class="share-section" id="share-section">
        <button type="button" id="btn-share" class="btn-share-primary">Share my result</button>
        <p class="share-status" id="share-status"></p>
        <p class="share-reassurance">Anonymous ‚Äî no one can link this to you.</p>
      </section>
      <section class="intentions-feed hidden" id="intentions-feed" aria-label="Shared intentions" aria-live="polite">
        <h3 class="intentions-feed-heading" id="intentions-feed-heading">What others are focusing on</h3>
        <div class="intentions-feed-list" id="intentions-feed-list"></div>
        <div class="intentions-feed-actions">
          <button type="button" id="btn-refresh-intentions" class="btn-refresh-subtle" title="Refresh shared intentions" aria-label="Refresh">Refresh</button>
        </div>
      </section>
    </div>
    <section class="community-section community-section--separate community-section--share" id="community-section">
      <div class="community-section-header">
        <h2>Recent shares</h2>
        <a href="index.html#phase-tabs" class="btn-global-world" title="See everyone's entries ‚Äî opens world chart" aria-label="World chart">üåç</a>
      </div>
      <p class="community-hint">Anonymous period stats from everyone. Yours join above.</p>
      <div class="shared-list-chart" id="shared-list-chart"></div>
      <div class="community-chart-footer">
        <button type="button" id="btn-refresh-feed" class="btn-refresh-subtle" title="Refresh shared results" aria-label="Refresh">Refresh</button>
      </div>
      <p class="empty-state" id="shared-empty">No shared results yet. Share yours below!</p>
      <p class="community-error hidden" id="community-error"></p>
    </section>
    <div class="community-metrics-chart" id="community-metrics-chart"></div>
    <a href="#mistake-note" id="btn-link-add-mistake" class="btn-link-recent-shares" title="Go to add a slip-up" aria-label="Add a slip-up">Add a slip-up ‚Üí</a>
    </div>
    <div class="social-tab-panel hidden" id="social-tab-world" aria-hidden="true">
    <section class="community-entries-section community-entries-section--standalone" id="community-entries-section">
      <div class="community-entries-card" id="community-entries-card" aria-label="Browse shared slip-ups from everyone">
        <div class="community-entries-top">
          <p class="world-header-line">Not alone in this.</p>
          <div class="community-entries-header">
            <h2>What's happening in the world</h2>
            <div class="community-entries-header-actions">
              <button type="button" id="btn-shared-total" class="btn-shared-total" title="The world's slip-up chart" aria-label="World slip-ups: 0">üåç 0 slip-ups</button>
              <button type="button" id="btn-add-from-community" class="btn-add-mine" aria-label="Add one to contribute to the world chart">+ Add mine</button>
            </div>
          </div>
          <p class="community-entries-hint">Anonymous moments from everyone. Browse by type and mood ‚Äî notice without blame.</p>
        </div>
        <div class="community-world-card">
          <div class="global-count-chart-wrap" id="global-count-chart" aria-label="Global count of shared entries by type" aria-hidden="true"></div>
        </div>
        <div class="insight-block insight-block--patterns insight-block--global-patterns" id="global-patterns-block">
          <span class="insight-label">Common words</span>
          <div class="insight-chart" id="global-patterns-chart"></div>
          <div class="global-patterns-actions">
            <button type="button" id="btn-download-global-patterns" class="btn-download-patterns" title="Download full list as CSV (full version)" aria-label="Download global patterns CSV">Download full list</button>
          </div>
        </div>
        <div class="community-browse" aria-label="Filter and browse shared entries">
          <div class="community-browse-actions">
            <button type="button" id="btn-shared-entries-toggle" class="chip chip--limit" title="Limit shown entries" aria-label="Show last 10 entries">Last 10</button>
            <button type="button" id="btn-show-all-shared" class="chip chip--world" title="See all slip-ups everyone has shared" aria-label="Show all shared slip-ups"><span aria-hidden="true">üåç</span> All</button>
            <span class="community-entries-last-updated" id="community-entries-last-updated" aria-live="polite"></span>
          </div>
          <div class="community-entries-filters" id="shared-entries-filters">
            <div class="filter-group">
              <span class="filter-group-label">Type</span>
              <div class="filter-chips">
                <button type="button" class="filter-chip active" data-filter-type="all">All</button>
                <button type="button" class="filter-chip" data-filter-type="avoidable">Avoidable</button>
                <button type="button" class="filter-chip" data-filter-type="fertile">Fertile</button>
                <button type="button" class="filter-chip" data-filter-type="observed">Observed</button>
              </div>
            </div>
            <div class="filter-group">
              <span class="filter-group-label">Mood</span>
              <div class="filter-chips">
                <button type="button" class="filter-chip active" data-filter-theme="all">All</button>
                <button type="button" class="filter-chip" data-filter-theme="calm">Calm</button>
                <button type="button" class="filter-chip" data-filter-theme="focus">Focused</button>
                <button type="button" class="filter-chip" data-filter-theme="stressed">Overwhelmed</button>
                <button type="button" class="filter-chip" data-filter-theme="curious">Curious</button>
                <button type="button" class="filter-chip" data-filter-theme="tired">Drained</button>
              </div>
            </div>
          </div>
        </div>
        <ul class="entry-list" id="shared-entries-list"></ul>
        <p class="empty-state empty-state--clickable" id="shared-entries-empty">No shared entries yet. Add a slip-up above to contribute yours.</p>
        <p class="community-error hidden" id="shared-entries-error"></p>
      </div>
      <a href="#community-section" id="btn-link-recent-shares" class="btn-link-recent-shares" title="Go to Recent shares to see period stats and share yours">See recent shares ‚Üí</a>
    </section>
    </div>
    </div>

    <footer class="page-footer">
      <a href="privacy.html">Privacy</a>
      <span class="footer-sep">¬∑</span>
      <a href="terms.html">Terms</a>
      <span class="footer-sep">¬∑</span>
      <a href="refund.html">Refund policy</a>
      <span class="footer-sep">¬∑</span>
      <a href="inside.html">SlipUp Inside (groups)</a>
    </footer>
  </div>

  <div class="bias-check-overlay hidden" id="bias-check-overlay" role="dialog" aria-modal="true" aria-labelledby="bias-check-title" aria-hidden="true">
    <div class="bias-check-panel">
      <p class="bias-check-panel-stat" id="bias-check-panel-stat" aria-live="polite"></p>
      <p class="bias-check-panel-intent" id="bias-check-panel-intent">Reflect before you save. Why does this one stand out?</p>
      <h3 class="bias-check-title" id="bias-check-title">Choose the closest reason</h3>
      <div class="bias-check-options" id="bias-check-options">
        <label class="bias-check-option"><input type="radio" name="bias-reason" value="harm"><span>It caused real harm</span></label>
        <label class="bias-check-option"><input type="radio" name="bias-reason" value="failed"><span>Not this time.</span></label>
        <label class="bias-check-option"><input type="radio" name="bias-reason" value="different"><span>It's different from what I would do</span></label>
        <label class="bias-check-option"><input type="radio" name="bias-reason" value="triggered"><span>I felt annoyed or triggered</span></label>
        <label class="bias-check-option"><input type="radio" name="bias-reason" value="unsure"><span>I'm not sure</span></label>
      </div>
      <p class="bias-check-reflection hidden" id="bias-check-reflection"></p>
      <div class="bias-check-actions">
        <button type="button" id="btn-bias-check-close" class="btn-bias-save">Save</button>
      </div>
    </div>
  </div>

  <script>window.MISTAKE_TRACKER_CONFIG = window.MISTAKE_TRACKER_CONFIG || {};</script>
  <script src="config.js?v=114"></script>
  <!-- Supabase JS v2 UMD bundle (defines window.supabase) -->
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.47.5/dist/umd/supabase.min.js"></script>
  <script src="entryInsightsData.js?v=114"></script>
  <script src="app.js?v=114"></script>
  <script>
    (function() {
      var THEME_KEY = 'mistake-tracker-theme';
      var LABELS = { calm: 'Calm', focus: 'Focused', stressed: 'Overwhelmed', curious: 'Curious', tired: 'Drained' };
      var moodBtns = document.querySelectorAll('.mood-btn[data-theme]');
      var btnTop = document.getElementById('btn-theme-top');
      function applyTheme() {
        var theme = localStorage.getItem(THEME_KEY) || 'focus';
        document.body.classList.remove('theme-focus', 'theme-stressed', 'theme-curious', 'theme-tired');
        if (theme === 'focus') document.body.classList.add('theme-focus');
        else if (theme === 'stressed') document.body.classList.add('theme-stressed');
        else if (theme === 'curious') document.body.classList.add('theme-curious');
        else if (theme === 'tired') document.body.classList.add('theme-tired');
        moodBtns.forEach(function(b) {
          b.classList.toggle('active', b.getAttribute('data-theme') === theme);
        });
        if (btnTop) {
          btnTop.textContent = LABELS[theme] || 'Calm';
          btnTop.setAttribute('data-theme', theme);
          btnTop.setAttribute('aria-label', 'How does this feel? Current mood: ' + (LABELS[theme] || 'Calm') + '. Click to cycle.');
        }
      }
      function selectTheme(theme) {
        localStorage.setItem(THEME_KEY, theme);
        applyTheme();
      }
      applyTheme();
      moodBtns.forEach(function(btn) {
        btn.addEventListener('click', function() { selectTheme(btn.getAttribute('data-theme')); });
      });
      if (btnTop) btnTop.addEventListener('click', function() {
        var theme = localStorage.getItem(THEME_KEY) || 'focus';
        var order = ['calm', 'focus', 'stressed', 'curious', 'tired'];
        var idx = order.indexOf(theme);
        selectTheme(order[(idx + 1) % order.length]);
      });
    })();
    if ('serviceWorker' in navigator) {
      var isLocalhost = /^localhost$|^127\.0\.0\.1$/.test(location.hostname);
      if (!isLocalhost) {
        navigator.serviceWorker.register('sw.js', { scope: './' })
          .then(function(reg) { if (reg) reg.update(); })
          .catch(function() {});
      } else {
        navigator.serviceWorker.getRegistrations().then(function(regs) {
          if (regs.length) { regs.forEach(function(r) { r.unregister(); }); location.reload(); }
        });
      }
    }
  </script>
  <div id="soft-toast" class="soft-toast hidden" role="status" aria-live="polite">
    <span id="soft-toast-msg"></span>
    <button type="button" id="soft-toast-action" class="soft-toast-action hidden">Undo</button>
  </div>
</body>
</html>
